import streamlit as st
import time

st.set_page_config(page_title="📖 Surah Rehman", layout="centered")
# Inject custom CSS for dark mode and styling
st.markdown("""
    <style>
        /* Set background and text color for main content */
        .appview-container .main .block-container {
            background-color: #0e1117;
            color: #ffffff;
        }

        h1, h2, h3 {
            color: #00ff99;
            text-align: center;
            font-family: 'Arial', sans-serif;
        }

        .stButton>button {
            background-color: #00cc99;
            color: white;
            border-radius: 10px;
            padding: 10px 20px;
            font-size: 16px;
        }

        .stAudio {
            filter: brightness(1.1);
            margin-bottom: 20px;
        }

        /* Hide Streamlit's default toolbar */
        header, footer {visibility: hidden;}
    </style>
""", unsafe_allow_html=True)

st.markdown("<h1>📖 Surah Rehman</h1>", unsafe_allow_html=True)
st.markdown("<h3>By: Iqra Khan</h3>", unsafe_allow_html=True)
audio_file = open("055.mp3", "rb")
audio_bytes = audio_file.read()
st.audio(audio_bytes, format="audio/mp3")

# All Verses with time delay
verses_with_delay = [
    ("بِسْمِ اللَّهِ الرَّحْمَٰنِ الرَّحِيمِ", 0.02),
    ("الرَّحْمَٰنُ", 6.74),
    ("عَلَّمَ الْقُرْآنَ", 6.74),
    ("خَلَقَ الْإِنسَانَ", 6.74),
    ("عَلَّمَهُ الْبَيَانَ", 6.74),
    ("الشَّمْسُ وَالْقَمَرُ بِحُسْبَانٍ", 6.74),
    ("وَالنَّجْمُ وَالشَّجَرُ يَسْجُدَانِ", 6.74),
    ("وَالسَّمَاءَ رَفَعَهَا وَوَضَعَ الْمِيزَانَ", 6.74),
    ("أَلَّا تَطْغَوْا فِي الْمِيزَانِ", 6.74),
    ("وَأَقِيمُوا الْوَزْنَ بِالْقِسْطِ وَلَا تُخْسِرُوا الْمِيزَانَ", 6.74),
    ("وَالْأَرْضَ وَضَعَهَا لِلْأَنَامِ", 6.74),
    ("فِيهَا فَاكِهَةٌ وَالنَّخْلُ ذَاتُ الْأَكْمَامِ", 6.74),
    ("وَالْحَبُّ ذُو الْعَصْفِ وَالرَّيْحَانُ", 6.74),
    ("فَبِأَيِّ آلَاءِ رَبِّكُمَا تُكَذِّبَانِ", 6.74),
    ("خَلَقَ الْإِنسَانَ مِن صَلْصَالٍ كَالْفَخَّارِ", 6.74),
    ("وَخَلَقَ الْجَانَّ مِن مَّارِجٍ مِّن نَّارٍ", 6.74),
    ("فَبِأَيِّ آلَاءِ رَبِّكُمَا تُكَذِّبَانِ", 6.74),
    ("رَبُّ الْمَشْرِقَيْنِ وَرَبُّ الْمَغْرِبَيْنِ", 6.74),
    ("فَبِأَيِّ آلَاءِ رَبِّكُمَا تُكَذِّبَانِ", 6.74),
    ("مَرَجَ الْبَحْرَيْنِ يَلْتَقِيَانِ", 6.74),
    ("بَيْنَهُمَا بَرْزَخٌ لَا يَبْغِيَانِ", 6.74),
    ("فَبِأَيِّ آلَاءِ رَبِّكُمَا تُكَذِّبَانِ", 6.74),
    ("يَخْرُجُ مِنْهُمَا اللُّؤْلُؤُ وَالْمَرْجَانُ", 6.74),
    ("فَبِأَيِّ آلَاءِ رَبِّكُمَا تُكَذِّبَانِ", 6.74),
    ("وَلَهُ الْجَوَارِ الْمُنشَآتُ فِي الْبَحْرِ كَالْأَعْلَامِ", 6.74),
    ("فَبِأَيِّ آلَاءِ رَبِّكُمَا تُكَذِّبَانِ", 6.74),
    ("كُلُّ مَنْ عَلَيْهَا فَانٍ", 6.74),
    ("وَيَبْقَىٰ وَجْهُ رَبِّكَ ذُو الْجَلَالِ وَالْإِكْرَامِ", 6.74),
    ("فَبِأَيِّ آلَاءِ رَبِّكُمَا تُكَذِّبَانِ", 6.74),
    ("يَسْأَلُهُ مَن فِي السَّمَاوَاتِ وَالْأَرْضِ ۚ كُلَّ يَوْمٍ هُوَ فِي شَأْنٍ", 6.74),
    ("فَبِأَيِّ آلَاءِ رَبِّكُمَا تُكَذِّبَانِ", 6.74),
    ("سَنَفْرُغُ لَكُمْ أَيُّهَا الثَّقَلَانِ", 6.74),
    ("فَبِأَيِّ آلَاءِ رَبِّكُمَا تُكَذِّبَانِ", 6.74),
    ("يَا مَعْشَرَ الْجِنِّ وَالْإِنسِ...", 6.74),
    ("فَبِأَيِّ آلَاءِ رَبِّكُمَا تُكَذِّبَانِ", 6.74),
    ("يُرْسَلُ عَلَيْكُمَا شُوَاظٌ مِّن نَّارٍ...", 6.74),
    ("فَبِأَيِّ آلَاءِ رَبِّكُمَا تُكَذِّبَانِ", 6.74),
    ("فَإِذَا انشَقَّتِ السَّمَاءُ...", 6.74),
    ("فَبِأَيِّ آلَاءِ رَبِّكُمَا تُكَذِّبَانِ", 6.74),
    ("فَيَوْمَئِذٍ لَّا يُسْأَلُ عَن ذَنبِهِ...", 6.74),
    ("فَبِأَيِّ آلَاءِ رَبِّكُمَا تُكَذِّبَانِ", 6.74),
    ("يُعْرَفُ الْمُجْرِمُونَ بِسِيمَاهُمْ...", 6.74),
    ("فَبِأَيِّ آلَاءِ رَبِّكُمَا تُكَذِّبَانِ", 6.74),
    ("هَٰذِهِ جَهَنَّمُ الَّتِي يُكَذِّبُ بِهَا...", 6.74),
    ("يَطُوفُونَ بَيْنَهَا وَبَيْنَ...", 6.74),
    ("فَبِأَيِّ آلَاءِ رَبِّكُمَا تُكَذِّبَانِ", 6.74),
    ("وَلِمَنْ خَافَ مَقَامَ رَبِّهِ جَنَّتَانِ", 6.74),
    ("فَبِأَيِّ آلَاءِ رَبِّكُمَا تُكَذِّبَانِ", 6.74),
    ("ذَوَاتَا أَفْنَانٍ", 6.74),
    ("فَبِأَيِّ آلَاءِ رَبِّكُمَا تُكَذِّبَانِ", 6.74),
    ("فِيهِمَا عَيْنَانِ تَجْرِيَانِ", 6.74),
    ("فَبِأَيِّ آلَاءِ رَبِّكُمَا تُكَذِّبَانِ", 6.74),
    ("فِيهِمَا مِن كُلِّ فَاكِهَةٍ زَوْجَانِ", 6.74),
    ("فَبِأَيِّ آلَاءِ رَبِّكُمَا تُكَذِّبَانِ", 6.74),
    ("مُتَّكِئِينَ عَلَىٰ فُرُشٍ...", 6.74),
    ("فَبِأَيِّ آلَاءِ رَبِّكُمَا تُكَذِّبَانِ", 6.74),
    ("فِيهِنَّ قَاصِرَاتُ الطَّرْفِ...", 6.74),
    ("فَبِأَيِّ آلَاءِ رَبِّكُمَا تُكَذِّبَانِ", 6.74),
    ("كَأَنَّهُنَّ الْيَاقُوتُ وَالْمَرْجَانُ", 6.74),
    ("فَبِأَيِّ آلَاءِ رَبِّكُمَا تُكَذِّبَانِ", 6.74),
    ("هَلْ جَزَاءُ الْإِحْسَانِ إِلَّا الْإِحْسَانُ", 6.74),
    ("فَبِأَيِّ آلَاءِ رَبِّكُمَا تُكَذِّبَانِ", 6.74),
    ("وَمِن دُونِهِمَا جَنَّتَانِ", 6.74),
    ("فَبِأَيِّ آلَاءِ رَبِّكُمَا تُكَذِّبَانِ", 6.74),
    ("مُدْهَامَّتَانِ", 6.74),
    ("فَبِأَيِّ آلَاءِ رَبِّكُمَا تُكَذِّبَانِ", 6.74),
    ("فِيهِمَا عَيْنَانِ نَضَّاخَتَانِ", 6.74),
    ("فَبِأَيِّ آلَاءِ رَبِّكُمَا تُكَذِّبَانِ", 6.74),
    ("فِيهِمَا فَاكِهَةٌ وَنَخْلٌ وَرُمَّانٌ", 6.74),
    ("فَبِأَيِّ آلَاءِ رَبِّكُمَا تُكَذِّبَانِ", 6.74),
    ("فِيهِنَّ خَيْرَاتٌ حِسَانٌ", 6.74),
    ("فَبِأَيِّ آلَاءِ رَبِّكُمَا تُكَذِّبَانِ", 6.74),
    ("حُورٌ مَّقْصُورَاتٌ فِي الْخِيَامِ", 6.74),
    ("فَبِأَيِّ آلَاءِ رَبِّكُمَا تُكَذِّبَانِ", 6.74),
    ("لَمْ يَطْمِثْهُنَّ إِنسٌ قَبْلَهُمْ وَلَا جَانٌّ", 6.74),
    ("فَبِأَيِّ آلَاءِ رَبِّكُمَا تُكَذِّبَانِ", 6.74),
    ("مُتَّكِئِينَ عَلَىٰ رَفْرَفٍ خُضْرٍ وَعَبْقَرِيٍّ حِسَانٍ", 6.74),
    ("فَبِأَيِّ آلَاءِ رَبِّكُمَا تُكَذِّبَانِ", 6.74),
    ("تَبَارَكَ اسْمُ رَبِّكَ ذِي الْجَلَالِ وَالْإِكْرَامِ", 6.6)
]
if st.button("▶️ Start Recitation with Sync"):
    st.markdown("<h3>🕋 Recitation in progress...</h3>", unsafe_allow_html=True)
    verse_placeholder = st.empty()

    for verse, delay in verses_with_delay:
        verse_placeholder.markdown(f"<h2>{verse}</h2>", unsafe_allow_html=True)
        time.sleep(delay)
    st.success("🎉 Recitation Completed")